<div class="row">
  <div class="col-8">

    <mat-vertical-stepper [linear]="true" #stepper>
      <mat-step [stepControl]="checkoutForm">
        <form [formGroup]="checkoutForm">
          <ng-template matStepLabel>Shipping Address</ng-template>
          <div class="row">
           <div class="col-3 ">
             <mat-form-field class="w-100">
               <mat-label>Name</mat-label>
               <input matInput placeholder="Last name, First name" formControlName="name" required>
             </mat-form-field>
           </div>
            <div class="col-3 ">
              <mat-form-field class="ml-5">
                <mat-label>Phone</mat-label>
                <input matInput placeholder="Phone number" formControlName="phoneNumber" required>
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-3">
              <mat-form-field>
                <mat-label>City</mat-label>
                <input matInput placeholder="City" formControlName="city" required>
              </mat-form-field>
            </div>
           <div class="col-3">
             <mat-form-field class="ml-5">
               <mat-label>State</mat-label>
               <input matInput placeholder="State" formControlName="state" required>
             </mat-form-field>
           </div>
          </div>
          <div class="row">
            <div class="col-3">
              <mat-form-field>
                <mat-label>Address</mat-label>
                <input matInput placeholder="Address" formControlName="address" required>
              </mat-form-field>
            </div>
            <div class="col-1 ml-5">
              <mat-form-field >
                <mat-label>Zip Code</mat-label>
                <input matInput placeholder="Zip Code" formControlName="zipcode" required>
              </mat-form-field>
            </div>
          </div>
          <div class="mt-3">
            <button mat-button matStepperNext>Next</button>
          </div>
        </form>
      </mat-step>
      <mat-step [stepControl]="cc">
        <form [formGroup]="cc">
          <ng-template matStepLabel>Payment</ng-template>
          <div class="row">
            <mat-form-field>
              <mat-label >Name on CC</mat-label>
              <input matInput formControlName="nameOnCC" placeholder="Name on CC">
            </mat-form-field>
            <mat-form-field class="ml-5">
              <mat-label >CC Number</mat-label>
              <input matInput formControlName="ccNumber" placeholder="CC Number">
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field>
              <mat-label >Exp Month</mat-label>
              <input matInput formControlName="expMonth" placeholder="Month">
            </mat-form-field>
            <mat-form-field class="ml-5">
              <mat-label >Exp Year</mat-label>
              <input matInput formControlName="expYear" placeholder="Year">
            </mat-form-field>
            <mat-form-field class="ml-5">
              <mat-label >CVV</mat-label>
              <input matInput formControlName="cvv" placeholder="CVV">
            </mat-form-field>
          </div>
          <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button matStepperNext>Next</button>
          </div>
        </form>
      </mat-step>
      <mat-step>
        <ng-template matStepLabel>Done</ng-template>
        <div>
          <button mat-button matStepperPrevious class="text-muted">CANCEL</button>
          <button mat-button (click)="onSubmit()" class="text-success">PAYMENT</button>
        </div>
      </mat-step>
    </mat-vertical-stepper>

  </div>

  <div class="col-4">
    <div class="row">
      <div class="col-md-12 order-md-2 mb-4">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">Your cart</span>
          <span class="badge badge-secondary badge-pill">{{totalQuantity}}</span>
        </h4>
        <ul class="list-group mb-3">
          <li *ngFor="let cartItem of cartItems" class="list-group-item d-flex justify-content-between lh-condensed">
            <div>
              <h6 class="my-0 font-weight-bold">{{cartItem.name}}</h6>
              <small class="text-muted">Quantity (x{{cartItem.quantity}})</small>
            </div>
            <span class="text-muted">{{cartItem.quantity * cartItem.unitPrice | currency: '₺'}}</span>
          </li>
          <li *ngIf="totalPrice < 60" class="list-group-item d-flex justify-content-between lh-condensed">
            <div>
              <h6 class="my-0 font-weight-bold">Shipping</h6>
            </div>
            <span class="text-muted">{{shippingPrice | currency: '₺'}}</span>
          </li>
          <li class="list-group-item d-flex justify-content-between">
            <span>Total (₺) </span>
            <strong>{{totalPrice | currency: '₺'}}</strong>
          </li>
        </ul>

      </div>
    </div>
  </div>

</div>
